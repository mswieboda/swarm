[gd_scene load_steps=8 format=2]

[ext_resource path="res://assets/gun_shot_sound.wav" type="AudioStream" id=1]
[ext_resource path="res://objs/player/guns/guns.gd" type="Script" id=2]
[ext_resource path="res://objs/player/guns/machine_gun.tscn" type="PackedScene" id=3]
[ext_resource path="res://objs/player/guns/gun.gd" type="Script" id=4]

[sub_resource type="DynamicFontData" id=3]
font_path = "res://assets/Roboto-Regular.ttf"

[sub_resource type="DynamicFont" id=4]
size = 33
font_data = SubResource( 3 )

[sub_resource type="Theme" id=5]
default_font = SubResource( 4 )

[node name="guns" type="Spatial"]
script = ExtResource( 2 )

[node name="bullet_spread" type="Position3D" parent="."]

[node name="ray" type="RayCast" parent="bullet_spread"]
enabled = true
cast_to = Vector3( 0, 0, -300 )
collision_mask = 7

[node name="hud" type="CanvasLayer" parent="."]

[node name="ammo" type="Label" parent="hud"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -220.0
margin_top = -162.0
margin_right = -50.0
margin_bottom = -50.0
theme = SubResource( 5 )
align = 2
valign = 2

[node name="guns" type="Position3D" parent="."]

[node name="machine_gun" parent="guns" instance=ExtResource( 3 )]
transform = Transform( -0.0226874, 0, 0.999742, 0, 1, 0, -0.999743, 0, -0.0226874, 1.15678, -0.797626, -2.50962 )
script = ExtResource( 4 )
fire_sound = ExtResource( 1 )
reload_sound = ExtResource( 1 )
empty_sound = ExtResource( 1 )
fire_animation = "fire_anim"
reload_animation = "reload_anim"
run_animation = "run_animation"
run_transition_animation = "run_transition"
walk_animation = "walk_anim"

[node name="fire_rate_timer" type="Timer" parent="guns/machine_gun"]
wait_time = 0.1
one_shot = true

[node name="recoil_timer" type="Timer" parent="guns/machine_gun"]
wait_time = 0.2
one_shot = true
